(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{OZae:function(t,e,i){"use strict";i.d(e,"a",(function(){return B}));var a=i("3Pt+"),n=i("iELJ"),o=i("fXoL"),r=i("AytR"),c=i("tk/3"),s=i("a8X4");let d=(()=>{class t{constructor(t,e){this.http=t,this.reportService=e,this.sheetName="mdfir700/",this.reportService.selectedDate.subscribe(t=>{this.reportSelectedDate=t})}postMDFIR700Data(t){return this.http.post(r.a.baseApi+"/"+this.sheetName+this.reportSelectedDate,t)}getMDFIR700Data(){return this.http.get(r.a.baseApi+"/"+this.sheetName+this.reportSelectedDate)}putMDFIR700Data(t,e){return this.http.put(r.a.baseApi+"/"+this.sheetName+this.reportSelectedDate+"/"+t,e)}deleteMDFIR700Data(t){return this.http.delete(r.a.baseApi+"/"+this.sheetName+this.reportSelectedDate+"/"+t)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(c.c),o.Wb(s.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=i("k9XE"),b=i("kmnG"),u=i("e6WT"),m=i("bTqV");let h=(()=>{class t{constructor(t,e,i,a,n){this.formBuilder=t,this.sheet700Service=e,this.editData=i,this.notifierService=a,this.MatDialogRef=n,this.actionsBtn="Save"}ngOnInit(){this.mdfir700Form=this.formBuilder.group({code:["",a.u.required],description:["",a.u.required],outstanding_at_beginning_of_month:["",a.u.required],outstanding_at_end_of_month:["",a.u.required],average_opening_and_closing_balance:["",a.u.required],paid_interest_during_the_month:["",a.u.required]}),this.editData&&(this.actionsBtn="Update",this.mdfir700Form.controls.code.setValue(this.editData.code),this.mdfir700Form.controls.description.setValue(this.editData.description),this.mdfir700Form.controls.outstanding_at_beginning_of_month.setValue(this.editData.outstanding_at_beginning_of_month),this.mdfir700Form.controls.outstanding_at_end_of_month.setValue(this.editData.outstanding_at_end_of_month),this.mdfir700Form.controls.average_opening_and_closing_balance.setValue(this.editData.average_opening_and_closing_balance),this.mdfir700Form.controls.paid_interest_during_the_month.setValue(this.editData.paid_interest_during_the_month))}ngOnDestroy(){}addDetails(){this.editData?this.putDetails():this.mdfir700Form.valid&&this.sheet700Service.postMDFIR700Data(this.mdfir700Form.value).subscribe({next:t=>{this.notifierService.showNotification("MDFIR700 updated successfully","ok","success"),this.mdfir700Form.reset(),this.MatDialogRef.close("save")},error:()=>{this.notifierService.showNotification("Unable to add new Row","OK","error")}}),console.log(this.mdfir700Form.value)}putDetails(){this.sheet700Service.putMDFIR700Data(this.editData.id,this.mdfir700Form.value).subscribe({next:t=>{this.notifierService.showNotification("MDFIR700 updated successfully","ok","success"),this.mdfir700Form.reset(),this.MatDialogRef.close("update")},error:()=>{this.notifierService.showNotification("Error updating Row","OK","error")}})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(a.c),o.Mb(d),o.Mb(n.a),o.Mb(l.a),o.Mb(n.g))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-dialog"]],decls:37,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],["appearance","outline"],["matInput","","type","text","disabled","","formControlName","code","readonly",""],["matInput","","type","text","disabled","","formControlName","description","readonly",""],["matInput","","type","number","formControlName","outstanding_at_beginning_of_month"],["matInput","","type","number","formControlName","outstanding_at_end_of_month"],["matInput","","type","number","formControlName","average_opening_and_closing_balance"],["matInput","","type","number","formControlName","advances_under_lease"],["matInput","","type","number","formControlName","paid_interest_during_the_month"],["mat-dialog-actions",""],["mat-raised-button","","color","warn","mat-dialog-close",""],["mat-raised-button","","cdkFocusInitial","",1,"save_btn",3,"click"]],template:function(t,e){1&t&&(o.Sb(0,"h1",0),o.Ac(1,"Report MDFIR700 Form"),o.Rb(),o.Sb(2,"div",1),o.Sb(3,"form",2),o.Sb(4,"mat-form-field",3),o.Sb(5,"mat-label"),o.Ac(6,"CODE"),o.Rb(),o.Nb(7,"input",4),o.Rb(),o.Sb(8,"mat-form-field",3),o.Sb(9,"mat-label"),o.Ac(10,"DESCRIPTION"),o.Rb(),o.Nb(11,"input",5),o.Rb(),o.Sb(12,"mat-form-field",3),o.Sb(13,"mat-label"),o.Ac(14,"OUTSTANDING AT BEGINNING OF MONTH"),o.Rb(),o.Nb(15,"input",6),o.Rb(),o.Sb(16,"mat-form-field",3),o.Sb(17,"mat-label"),o.Ac(18," OUTSTANDING AT END OF MONTH "),o.Rb(),o.Nb(19,"input",7),o.Rb(),o.Sb(20,"mat-form-field",3),o.Sb(21,"mat-label"),o.Ac(22," AVERAGE OPENING AND CLOSING BALANCE "),o.Rb(),o.Nb(23,"input",8),o.Rb(),o.Sb(24,"mat-form-field",3),o.Sb(25,"mat-label"),o.Ac(26," ADVANCES UNDER LEASE "),o.Rb(),o.Nb(27,"input",9),o.Rb(),o.Sb(28,"mat-form-field",3),o.Sb(29,"mat-label"),o.Ac(30," PAID INTEREST DURING THE MONTH"),o.Rb(),o.Nb(31,"input",10),o.Rb(),o.Rb(),o.Rb(),o.Sb(32,"div",11),o.Sb(33,"button",12),o.Ac(34,"Close"),o.Rb(),o.Sb(35,"button",13),o.Zb("click",(function(){return e.addDetails()})),o.Ac(36),o.Rb(),o.Rb()),2&t&&(o.Bb(3),o.kc("formGroup",e.mdfir700Form),o.Bb(33),o.Bc(e.actionsBtn))},directives:[n.h,n.e,a.w,a.m,a.g,b.b,b.e,u.b,a.b,a.l,a.e,a.q,n.c,m.a,n.d],styles:[".example-form-field[_ngcontent-%COMP%]{width:200px}"]}),t})();var f=i("M9IT"),p=i("LUZP"),g=i("OaSA");let _=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e}ngOnInit(){}deleteConfirmed(){this.dialogRef.close("delete")}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(n.a),o.Mb(n.g))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-confirmation-dialog"]],decls:8,vars:0,consts:[["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","","mat-raised-button","","mat-dialog-close","","cdkFocusInitial","",1,"row_btn"],["mat-button","","mat-raised-button","","color","warn",3,"mat-dialog-close","click"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"h2"),o.Ac(2,"Are you sure you want to delete?"),o.Rb(),o.Rb(),o.Sb(3,"div",1),o.Sb(4,"button",2),o.Ac(5,"No"),o.Rb(),o.Sb(6,"button",3),o.Zb("click",(function(){return e.deleteConfirmed()})),o.Ac(7,"Yes"),o.Rb(),o.Rb())},directives:[n.e,n.c,m.a,n.d],styles:[""]}),t})();var S=i("ofXK");function D(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1," S/N "),o.Rb())}function R(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.Rb()),2&t){const t=e.index;o.dc();const i=o.nc(33);o.Bb(1),o.Cc(" ",t+1+i.pageIndex*i.pageSize,"")}}function N(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1," CODE"),o.Rb())}function A(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",t.code," ")}}function C(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1,"DESCRIPTION "),o.Rb())}function v(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",t.description," ")}}function w(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1," OUTSTANDING AT BEGINNING OF MONTH "),o.Rb())}function I(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.ec(2,"currency"),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",o.hc(2,1,t.outstanding_at_beginning_of_month,"","")," ")}}function M(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1,"OUTSTANDING AT END OF MONTH "),o.Rb())}function O(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.ec(2,"currency"),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",o.hc(2,1,t.outstanding_at_end_of_month,"","")," ")}}function F(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1," AVERAGE OPENING AND CLOSING BALANCE"),o.Rb())}function y(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.ec(2,"currency"),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",o.hc(2,1,t.average_opening_and_closing_balance,"","")," ")}}function T(t,e){1&t&&(o.Sb(0,"th",19),o.Ac(1,"PAID INTEREST DURING THE MONTH "),o.Rb())}function x(t,e){if(1&t&&(o.Sb(0,"td",20),o.Ac(1),o.ec(2,"currency"),o.Rb()),2&t){const t=e.$implicit;o.Bb(1),o.Cc(" ",o.hc(2,1,t.paid_interest_during_the_month,"","")," ")}}function E(t,e){1&t&&o.Nb(0,"tr",21)}function P(t,e){1&t&&o.Nb(0,"tr",22)}function k(t,e){if(1&t&&(o.Sb(0,"tr",23),o.Sb(1,"td",24),o.Ac(2),o.Rb(),o.Rb()),2&t){o.dc();const t=o.nc(5);o.Bb(2),o.Cc('No data matching the filter "',t.value,'"')}}const z=function(){return[5,10,25,100]};let B=(()=>{class t{constructor(t,e,i,a){this.dialog=t,this.sheet700Service=e,this.reportService=i,this.location=a,this.displayedColumns=["id","code","description","outstanding_at_beginning_of_month","outstanding_at_end_of_month","average_opening_and_closing_balance","paid_interest_during_the_month"]}ngOnInit(){this.getAllMDFIR700Data(),this.reportService.getTableData().forEach(t=>{"MDFIR700"===t.return_code&&(this.reportData=t)}),this.reportService.selectedDate.subscribe(t=>{this.reportSelectedDate=t})}openDialog(){this.dialog.open(h,{width:"30%"}).afterClosed().subscribe(t=>{"save"===t&&this.getAllMDFIR700Data()})}goBack(){this.location.back()}getAllMDFIR700Data(){this.sheet700Service.getMDFIR700Data().subscribe({next:t=>{console.log(t.sheet700),this.dataSource=new g.l(t.sheet700),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:()=>{console.log("Error while fetching data")}})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editReportRow(t){this.dialog.open(h,{width:"30%",data:t}).afterClosed().subscribe(t=>{"update"===t&&this.getAllMDFIR700Data()})}deleteReportRow(t){this.sheet700Service.deleteMDFIR700Data(t).subscribe({next:t=>{alert("Deleted sucessfully"),this.getAllMDFIR700Data()},error:t=>{alert("Failed")}})}openConfirmationDialog(t){this.dialog.open(_,{width:"17%",data:!0}).afterClosed().subscribe(e=>{"delete"===e&&(this.deleteReportRow(t),this.getAllMDFIR700Data())})}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(n.b),o.Mb(d),o.Mb(s.a),o.Mb(S.i))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-sheet700"]],viewQuery:function(t,e){var i;1&t&&(o.Dc(f.a,!0),o.Dc(p.a,!0)),2&t&&(o.mc(i=o.ac())&&(e.paginator=i.first),o.mc(i=o.ac())&&(e.sort=i.first))},decls:34,vars:7,consts:[[1,"container"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],[1,"overflow"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","description"],["matColumnDef","outstanding_at_beginning_of_month"],["matColumnDef","outstanding_at_end_of_month"],["matColumnDef","average_opening_and_closing_balance"],["matColumnDef","paid_interest_during_the_month"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["myPaginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(o.Sb(0,"div",0),o.Sb(1,"mat-form-field"),o.Sb(2,"mat-label"),o.Ac(3,"Filter"),o.Rb(),o.Sb(4,"input",1,2),o.Zb("keyup",(function(t){return e.applyFilter(t)})),o.Rb(),o.Rb(),o.Sb(6,"div",3),o.Sb(7,"table",4),o.Qb(8,5),o.zc(9,D,2,0,"th",6),o.zc(10,R,2,1,"td",7),o.Pb(),o.Qb(11,8),o.zc(12,N,2,0,"th",6),o.zc(13,A,2,1,"td",7),o.Pb(),o.Qb(14,9),o.zc(15,C,2,0,"th",6),o.zc(16,v,2,1,"td",7),o.Pb(),o.Qb(17,10),o.zc(18,w,2,0,"th",6),o.zc(19,I,3,5,"td",7),o.Pb(),o.Qb(20,11),o.zc(21,M,2,0,"th",6),o.zc(22,O,3,5,"td",7),o.Pb(),o.Qb(23,12),o.zc(24,F,2,0,"th",6),o.zc(25,y,3,5,"td",7),o.Pb(),o.Qb(26,13),o.zc(27,T,2,0,"th",6),o.zc(28,x,3,5,"td",7),o.Pb(),o.zc(29,E,1,0,"tr",14),o.zc(30,P,1,0,"tr",15),o.zc(31,k,3,1,"tr",16),o.Rb(),o.Rb(),o.Nb(32,"mat-paginator",17,18),o.Rb()),2&t&&(o.Bb(7),o.kc("dataSource",e.dataSource),o.Bb(22),o.kc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.kc("matRowDefColumns",e.displayedColumns),o.Bb(2),o.kc("length",25)("pageSize",5)("pageSizeOptions",o.lc(6,z)))},directives:[b.b,b.e,u.b,g.k,p.a,g.c,g.e,g.b,g.g,g.j,g.h,f.a,g.d,p.b,g.a,g.f,g.i],pipes:[S.d],styles:["table[_ngcontent-%COMP%]{width:100%;border:1px solid #ddd}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:70px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:0 22px}th[_ngcontent-%COMP%]{border-bottom:1px solid #000}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:15px}.container[_ngcontent-%COMP%]{max-width:3000px;margin:0 auto;z-index:-1}.overflow[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap}.mat-column-id[_ngcontent-%COMP%]{padding:0;width:10px}.test[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:-50px;font-size:15px;font-weight:650}.back-button[_ngcontent-%COMP%]{float:right;background-color:#022859;color:#f8f8f8;font-family:Open\\+Sans,sans-serif;padding:8px 12px;font-size:13px;line-height:1.3333333;height:35px;border-radius:5px;cursor:pointer;outline:none}"]}),t})()},XDCG:function(t,e,i){"use strict";i.r(e),i.d(e,"Sheet700Module",(function(){return A}));var a=i("ofXK"),n=i("OZae"),o=i("d3UM"),r=i("OaSA"),c=i("M9IT"),s=i("Qu3c"),d=i("q7Ft"),l=i("iELJ"),b=i("bTqV"),u=i("tyNb"),m=i("maxO"),h=i("Tj54"),f=i("e6WT"),p=i("TN/R"),g=i("FKr1"),_=i("3Pt+"),S=i("tk/3"),D=i("LUZP"),R=i("fXoL");const N=[{path:"",component:n.a,pathMatch:"full"}];let A=(()=>{class t{}return t.\u0275mod=R.Kb({type:t}),t.\u0275inj=R.Jb({factory:function(e){return new(e||t)},imports:[[a.c,u.e.forChild(N),m.a,o.b,r.m,c.b,s.b,d.a,l.f,b.b,h.b,f.c,f.c,p.c,g.k,_.h,_.r,S.d,D.c]]}),t})()}}]);