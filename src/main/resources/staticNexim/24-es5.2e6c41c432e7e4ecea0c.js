!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function r(n,r,o){return r&&e(n.prototype,r),o&&e(n,o),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{fV8Y:function(e,o,s){"use strict";s.r(o),s.d(o,"UpdatePasswordModule",(function(){return C}));var t=s("ofXK"),a=s("3Pt+"),i=function(){function e(){n(this,e)}return r(e,null,[{key:"comparePassword",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"password";return function(r){return r.setErrors({passwordNoMatch:!0}),r.get(e).value===r.get(n).value?null:{passwordNoMatch:!0}}}}]),e}(),c=s("GUC0"),d=s.n(c),u=s("fXoL"),b=s("KwcT"),w=s("vfVh");function l(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1," Password required"),u.Rb())}function f(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1," Enter minimum of 6 characters"),u.Rb())}function p(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1,"New Password required"),u.Rb())}function m(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1," Enter minimum of 6 characters"),u.Rb())}function g(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1,"Confirm Password required"),u.Rb())}function h(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1," Enter minimum of 6 characters"),u.Rb())}function v(n,e){1&n&&(u.Sb(0,"span",20),u.Ac(1," input doesn't match with new password"),u.Rb())}function P(n,e){1&n&&u.Nb(0,"div",21)}function S(n,e){1&n&&(u.Sb(0,"span"),u.Ac(1,"Save"),u.Rb())}var R,N,k=((R=function(){function e(r,o){n(this,e),this.authService=r,this.userSettingsService=o,this.isLoading=!1}return r(e,[{key:"ngOnInit",value:function(){var n=this;this.updatePasswordForm=new a.f({password:new a.d(null,[a.u.required,a.u.minLength(6)]),newPassword:new a.d(null,[a.u.required,a.u.minLength(6)]),confirmNewPassword:new a.d(null,[a.u.required,a.u.minLength(6)])},{validators:[i.comparePassword("confirmNewPassword","newPassword")]}),this.timeIntervalId=setInterval((function(){n.nowDate=new Date}),1e3),this.$user=this.authService.user.subscribe((function(e){n.username=null==e?void 0:e.username}))}},{key:"changePassword",value:function(){var n=this;if(this.updatePasswordForm.valid){var e={username:this.username,old_password:this.password.value,password:this.newPassword.value,confirm_password:this.confirmNewPassword.value};this.isLoading=!0,this.userSettingsService.updatePassword(e).subscribe((function(e){n.isLoading=!1,n.updatePasswordForm.reset(),d()({title:"Successful",text:"Password updated",icon:"success"})}),(function(e){n.isLoading=!1,n.updatePasswordForm.reset();var r="An unknown Error occurred";if(0===e.status)r="An unknown Error occurred";else if(400===e.status){var o=e.error;r="".concat(o.message,"\n").concat(null==o?void 0:o.details)}else{var s=e.error;r=(null==s?void 0:s.message)instanceof Array?s.message.join("<br>"):(null==s?void 0:s.message)||r}d()({title:"Error",text:r,icon:"error"})}))}}},{key:"ngOnDestroy",value:function(){clearInterval(this.timeIntervalId),this.$user&&this.$user.unsubscribe()}},{key:"password",get:function(){return this.updatePasswordForm.get("password")}},{key:"newPassword",get:function(){return this.updatePasswordForm.get("newPassword")}},{key:"confirmNewPassword",get:function(){return this.updatePasswordForm.get("confirmNewPassword")}}]),e}()).\u0275fac=function(n){return new(n||R)(u.Mb(b.a),u.Mb(w.a))},R.\u0275cmp=u.Gb({type:R,selectors:[["app-update-password"]],decls:63,vars:18,consts:[[1,"page-header",2,"padding","20px 20px"],[1,"container"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"fa","fa-external-link-square"],[1,"panel-body"],[1,"col-sm-9"],[2,"color","gray","font-size","15px"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-6"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],["for","form-field-2",1,"col-sm-2","control-label"],["type","password","placeholder","Password","id","password","formControlName","password","autocomplete","new-password",1,"form-control"],["class","error",4,"ngIf"],["type","password","placeholder","New Password","id","newPassword","autocomplete","new-password","formControlName","newPassword",1,"form-control"],["type","password","placeholder","Confirm New Password","id","confirmNewPassword","formControlName","confirmNewPassword","autocomplete","new-password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"error"],[1,"loadingSpinner"]],template:function(n,e){1&n&&(u.Sb(0,"div",0),u.Sb(1,"h1"),u.Ac(2," Settings "),u.Sb(3,"small"),u.Ac(4,"Update & password "),u.Rb(),u.Rb(),u.Rb(),u.Sb(5,"div",1),u.Sb(6,"div",2),u.Sb(7,"div",3),u.Nb(8,"i",4),u.Ac(9,"Profile "),u.Rb(),u.Sb(10,"div",5),u.Sb(11,"div",6),u.Sb(12,"b",7),u.Ac(13," USERNAME: "),u.Rb(),u.Sb(14,"b",7),u.Ac(15),u.ec(16,"titlecase"),u.Rb(),u.Sb(17,"div",8),u.Sb(18,"b",7),u.Ac(19," DATE: "),u.Rb(),u.Sb(20,"b"),u.Ac(21),u.ec(22,"date"),u.Rb(),u.Rb(),u.Rb(),u.Nb(23,"br"),u.Rb(),u.Rb(),u.Rb(),u.Sb(24,"div",1),u.Sb(25,"div",9),u.Sb(26,"div",10),u.Sb(27,"div",2),u.Sb(28,"div",3),u.Nb(29,"i",4),u.Ac(30,"Password Informatiom "),u.Rb(),u.Sb(31,"div",5),u.Sb(32,"form",11),u.Zb("ngSubmit",(function(){return e.changePassword()})),u.Sb(33,"div",8),u.Sb(34,"label",12),u.Ac(35," Current Password "),u.Rb(),u.Sb(36,"div",6),u.Nb(37,"input",13),u.zc(38,l,2,0,"span",14),u.zc(39,f,2,0,"span",14),u.Rb(),u.Rb(),u.Sb(40,"div",8),u.Sb(41,"label",12),u.Ac(42," New Password "),u.Rb(),u.Sb(43,"div",6),u.Nb(44,"input",15),u.zc(45,p,2,0,"span",14),u.zc(46,m,2,0,"span",14),u.Rb(),u.Rb(),u.Sb(47,"div",8),u.Sb(48,"label",12),u.Ac(49," Confirm Password "),u.Rb(),u.Sb(50,"div",6),u.Nb(51,"input",16),u.zc(52,g,2,0,"span",14),u.zc(53,h,2,0,"span",14),u.zc(54,v,2,0,"span",14),u.Rb(),u.Rb(),u.Nb(55,"br"),u.Nb(56,"br"),u.Sb(57,"div",8),u.Nb(58,"label",12),u.Sb(59,"div",6),u.Sb(60,"button",17),u.zc(61,P,1,0,"div",18),u.zc(62,S,2,0,"span",19),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb(),u.Rb()),2&n&&(u.Bb(15),u.Bc(u.fc(16,13,e.username)),u.Bb(6),u.Bc(u.gc(22,15,e.nowDate,"medium")),u.Bb(11),u.kc("formGroup",e.updatePasswordForm),u.Bb(6),u.kc("ngIf",e.password.touched&&e.password.hasError("required")),u.Bb(1),u.kc("ngIf",e.password.touched&&e.password.hasError("minlength")),u.Bb(6),u.kc("ngIf",e.newPassword.touched&&e.newPassword.hasError("required")),u.Bb(1),u.kc("ngIf",e.newPassword.touched&&e.newPassword.hasError("minlength")),u.Bb(6),u.kc("ngIf",e.confirmNewPassword.touched&&e.confirmNewPassword.hasError("required")),u.Bb(1),u.kc("ngIf",e.confirmNewPassword.touched&&e.confirmNewPassword.hasError("minlength")),u.Bb(1),u.kc("ngIf",e.confirmNewPassword.touched&&e.updatePasswordForm.hasError("passwordNoMatch")),u.Bb(6),u.kc("disabled",e.updatePasswordForm.invalid||e.isLoading),u.Bb(1),u.kc("ngIf",e.isLoading),u.Bb(1),u.kc("ngIf",!e.isLoading))},directives:[a.w,a.m,a.g,a.b,a.l,a.e,t.m],pipes:[t.s,t.f],styles:[".table[_ngcontent-%COMP%]{margin-top:35px}.page-header[_ngcontent-%COMP%]{margin:20px 0}.table_action_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.table_action_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 5px;padding:5px;height:unset;color:#333;font-weight:700;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px}.table_action_btn[_ngcontent-%COMP%]   button.download[_ngcontent-%COMP%]{background-color:#d2d904}.table_action_btn[_ngcontent-%COMP%]   button.view[_ngcontent-%COMP%]{background-color:#4fbfa7}.username-col[_ngcontent-%COMP%]{text-align:right}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333}"]}),R),y=s("tyNb"),A=[{path:"",component:k}],C=((N=function e(){n(this,e)}).\u0275mod=u.Kb({type:N}),N.\u0275inj=u.Jb({factory:function(n){return new(n||N)},imports:[[t.c,y.e.forChild(A),a.r]]}),N)}}])}();