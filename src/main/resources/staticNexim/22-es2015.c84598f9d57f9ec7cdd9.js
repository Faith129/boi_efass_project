(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{F4UR:function(n,e,r){"use strict";r.r(e),r.d(e,"LoginModule",(function(){return l}));var o=r("3Pt+"),t=r("tyNb"),i=r("fXoL"),s=r("KwcT"),a=r("ofXK");function c(n,e){if(1&n&&(i.Sb(0,"div",12),i.Sb(1,"p"),i.Ac(2),i.Rb(),i.Rb()),2&n){const n=i.dc();i.Bb(2),i.Bc(n.errorMessage)}}function b(n,e){1&n&&i.Nb(0,"div",13)}function d(n,e){1&n&&(i.Sb(0,"span"),i.Ac(1,"Login"),i.Rb())}const g=[{path:"",component:(()=>{class n{constructor(n,e){this.router=n,this.authService=e,this.isLoading=!1,this.isError=!1,this.errorMessage="",this.year=(new Date).getFullYear()}ngOnInit(){this.loginForm=new o.f({username:new o.d(null,[o.u.required]),password:new o.d(null,[o.u.required])})}onLogin(){this.loginForm.valid&&(this.isLoading=!0,this.isError=!1,this.authService.login({password:this.password.value,username:this.username.value}).subscribe(n=>{this.isLoading=!1,this.router.navigate(["/","dashboard"])},n=>{if(this.isLoading=!1,this.isError=!0,0===n.status)this.errorMessage="An unknown Error occurred";else if(400===n.status){const e=n.error;this.errorMessage=`${e.message}\n${null==e?void 0:e.details}`}else{const e=n.error;this.errorMessage=(null==e?void 0:e.message)instanceof Array?e.message.join("<br>"):e.message}}))}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}}return n.\u0275fac=function(e){return new(e||n)(i.Mb(t.b),i.Mb(s.a))},n.\u0275cmp=i.Gb({type:n,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"login-container"],[1,"form_common","f",3,"formGroup","ngSubmit"],["alt","","src","../../../assets/img/download-removebg-preview.png","width","75%"],["class","error",4,"ngIf"],[1,"form-group"],["type","text","autocomplete","username","required","","placeholder","Username","formControlName","username","id","username",1,"form-control","input-lg","input_common"],["type","password","autocomplete","current-password","required","","placeholder","Password","formControlName","password","id","password",1,"form-control","input-lg","input_common"],[1,"text-center"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","btn_common",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"copyright"],[1,"error"],[1,"loadingSpinner"]],template:function(n,e){1&n&&(i.Sb(0,"body"),i.Sb(1,"div",0),i.Sb(2,"div"),i.Sb(3,"div"),i.Sb(4,"form",1),i.Zb("ngSubmit",(function(){return e.onLogin()})),i.Nb(5,"img",2),i.Nb(6,"br"),i.Nb(7,"br"),i.Nb(8,"br"),i.zc(9,c,3,1,"div",3),i.Sb(10,"div",4),i.Nb(11,"input",5),i.Rb(),i.Nb(12,"br"),i.Sb(13,"div",4),i.Nb(14,"input",6),i.Rb(),i.Nb(15,"br"),i.Sb(16,"div",7),i.Sb(17,"button",8),i.zc(18,b,1,0,"div",9),i.zc(19,d,2,0,"span",10),i.Rb(),i.Rb(),i.Rb(),i.Sb(20,"div",11),i.Ac(21),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&n&&(i.Bb(4),i.kc("formGroup",e.loginForm),i.Bb(5),i.kc("ngIf",e.isError),i.Bb(8),i.kc("disabled",!e.loginForm.valid||e.isLoading),i.Bb(1),i.kc("ngIf",e.isLoading),i.Bb(1),i.kc("ngIf",!e.isLoading),i.Bb(2),i.Cc(" ",e.year," \xa9 Efass by Neptune Software Group. "))},directives:[o.w,o.m,o.g,a.m,o.b,o.s,o.l,o.e],styles:["body[_ngcontent-%COMP%]{background-color:#192a53}.login-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100%;display:flex;justify-content:center;align-items:center;height:100vh}.f[_ngcontent-%COMP%]{padding:30px 40px}.input-lg[_ngcontent-%COMP%]{border-radius:5px}.btn_common[_ngcontent-%COMP%], .input-lg[_ngcontent-%COMP%]{width:100%}#password[_ngcontent-%COMP%], #username[_ngcontent-%COMP%]{-moz-appearance:textfield-multiline;-webkit-appearance:textarea;border:1px solid grey;font:medium -moz-fixed;font:-webkit-small-control;overflow:auto;padding:2px;resize:both;width:100%}.copyright[_ngcontent-%COMP%]{font-size:11px;color:#f1ebdf;margin:0 auto;padding:10px 0;text-align:center}.error[_ngcontent-%COMP%]{background-color:rgba(245,61,61,.2);color:var(--text-color);padding:5px;text-align:center;margin-bottom:15px}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})()}];let u=(()=>{class n{}return n.\u0275mod=i.Kb({type:n}),n.\u0275inj=i.Jb({factory:function(e){return new(e||n)},imports:[[t.e.forChild(g)],t.e]}),n})(),l=(()=>{class n{}return n.\u0275mod=i.Kb({type:n}),n.\u0275inj=i.Jb({factory:function(e){return new(e||n)},imports:[[a.c,u,o.h,o.r]]}),n})()}}]);