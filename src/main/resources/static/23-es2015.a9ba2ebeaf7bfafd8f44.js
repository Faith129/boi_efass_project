(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{F4UR:function(e,n,r){"use strict";r.r(n),r.d(n,"LoginModule",(function(){return p}));var o=r("3Pt+"),t=r("tyNb"),i=r("fXoL"),s=r("KwcT"),a=r("ofXK");function c(e,n){if(1&e&&(i.Sb(0,"div",12),i.Sb(1,"p"),i.Ac(2),i.Rb(),i.Rb()),2&e){const e=i.dc();i.Bb(2),i.Bc(e.errorMessage)}}function b(e,n){1&e&&i.Nb(0,"div",13)}function d(e,n){1&e&&(i.Sb(0,"span"),i.Ac(1,"Login"),i.Rb())}const u=[{path:"",component:(()=>{class e{constructor(e,n){this.router=e,this.authService=n,this.isLoading=!1,this.isError=!1,this.errorMessage="",this.year=(new Date).getFullYear()}ngOnInit(){this.loginForm=new o.f({username:new o.d(null,[o.u.required]),password:new o.d(null,[o.u.required])})}onLogin(){this.loginForm.valid&&(this.isLoading=!0,this.isError=!1,this.authService.login({password:this.password.value,username:this.username.value}).subscribe(e=>{this.isLoading=!1,this.router.navigate(["/","dashboard"])},e=>{if(this.isLoading=!1,this.isError=!0,0===e.status)this.errorMessage="An unknown Error occurred";else if(400===e.status){const n=e.error;this.errorMessage=`${n.message}\n${null==n?void 0:n.details}`}else{const n=e.error;this.errorMessage=(null==n?void 0:n.message)instanceof Array?n.message.join("<br>"):n.message}}))}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}}return e.\u0275fac=function(n){return new(n||e)(i.Mb(t.b),i.Mb(s.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-login"]],decls:21,vars:6,consts:[[1,"login-container"],[1,"form_common","f",3,"formGroup","ngSubmit"],["alt","","src","../../../assets/img/download-removebg-preview.png","width","75%"],["class","error",4,"ngIf"],[1,"form-group"],["type","text","autocomplete","username","required","","placeholder","Username","formControlName","username","id","username",1,"form-control","input-lg","input_common"],["type","password","autocomplete","current-password","required","","placeholder","Password","formControlName","password","id","password",1,"form-control","input-lg","input_common"],[1,"text-center"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","btn_common",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"copyright"],[1,"error"],[1,"loadingSpinner"]],template:function(e,n){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div"),i.Sb(2,"div"),i.Sb(3,"form",1),i.Zb("ngSubmit",(function(){return n.onLogin()})),i.Nb(4,"img",2),i.Nb(5,"br"),i.Nb(6,"br"),i.Nb(7,"br"),i.zc(8,c,3,1,"div",3),i.Sb(9,"div",4),i.Nb(10,"input",5),i.Rb(),i.Nb(11,"br"),i.Sb(12,"div",4),i.Nb(13,"input",6),i.Rb(),i.Nb(14,"br"),i.Sb(15,"div",7),i.Sb(16,"button",8),i.zc(17,b,1,0,"div",9),i.zc(18,d,2,0,"span",10),i.Rb(),i.Rb(),i.Rb(),i.Sb(19,"div",11),i.Ac(20),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(3),i.kc("formGroup",n.loginForm),i.Bb(5),i.kc("ngIf",n.isError),i.Bb(8),i.kc("disabled",!n.loginForm.valid||n.isLoading),i.Bb(1),i.kc("ngIf",n.isLoading),i.Bb(1),i.kc("ngIf",!n.isLoading),i.Bb(2),i.Cc(" ",n.year," \xa9 Rubikon-Efass by Neptune Software Group. "))},directives:[o.w,o.m,o.g,a.m,o.b,o.s,o.l,o.e],styles:[".login-container[_ngcontent-%COMP%]{background-image:url(https://media.istockphoto.com/vectors/abstract-blue-vector-background-with-stripes-can-be-used-for-cover-vector-id1270261573?h=8KkJd1DCgwZxMyh3AYFSzfuTRphs3mLuEMYMmUpmsmQ%3D&k=20&m=1270261573&s=612x612&w=0);background-repeat:no-repeat;background-size:100%;display:flex;justify-content:center;align-items:center;height:100vh}.f[_ngcontent-%COMP%]{padding:30px 40px}.input-lg[_ngcontent-%COMP%]{border-radius:5px}.btn_common[_ngcontent-%COMP%], .input-lg[_ngcontent-%COMP%]{width:100%}#password[_ngcontent-%COMP%], #username[_ngcontent-%COMP%]{-moz-appearance:textfield-multiline;-webkit-appearance:textarea;border:1px solid grey;font:medium -moz-fixed;font:-webkit-small-control;overflow:auto;padding:2px;resize:both;width:100%}.copyright[_ngcontent-%COMP%]{font-size:11px;color:#f1ebdf;margin:0 auto;padding:10px 0;text-align:center}.error[_ngcontent-%COMP%]{background-color:rgba(245,61,61,.2);color:var(--text-color);padding:5px;text-align:center;margin-bottom:15px}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}"]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(n){return new(n||e)},imports:[[t.e.forChild(u)],t.e]}),e})(),p=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(n){return new(n||e)},imports:[[a.c,g,o.h,o.r]]}),e})()}}]);