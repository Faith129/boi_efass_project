(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{fV8Y:function(s,r,e){"use strict";e.r(r),e.d(r,"UpdatePasswordModule",(function(){return N}));var n=e("ofXK"),o=e("3Pt+");class t{static comparePassword(s,r="password"){return e=>(e.setErrors({passwordNoMatch:!0}),e.get(r).value===e.get(s).value?null:{passwordNoMatch:!0})}}var a=e("GUC0"),i=e.n(a),d=e("fXoL"),c=e("KwcT"),b=e("vfVh");function u(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1," Password required"),d.Rb())}function w(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1," Enter minimum of 6 characters"),d.Rb())}function l(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1,"New Password required"),d.Rb())}function p(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1," Enter minimum of 6 characters"),d.Rb())}function m(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1,"Confirm Password required"),d.Rb())}function f(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1," Enter minimum of 6 characters"),d.Rb())}function g(s,r){1&s&&(d.Sb(0,"span",20),d.Ac(1," input doesn't match with new password"),d.Rb())}function h(s,r){1&s&&d.Nb(0,"div",21)}function P(s,r){1&s&&(d.Sb(0,"span"),d.Ac(1,"Save"),d.Rb())}let S=(()=>{class s{constructor(s,r){this.authService=s,this.userSettingsService=r,this.isLoading=!1}ngOnInit(){this.updatePasswordForm=new o.f({password:new o.d(null,[o.u.required,o.u.minLength(6)]),newPassword:new o.d(null,[o.u.required,o.u.minLength(6)]),confirmNewPassword:new o.d(null,[o.u.required,o.u.minLength(6)])},{validators:[t.comparePassword("confirmNewPassword","newPassword")]}),this.timeIntervalId=setInterval(()=>{this.nowDate=new Date},1e3),this.$user=this.authService.user.subscribe(s=>{this.username=null==s?void 0:s.username})}changePassword(){if(this.updatePasswordForm.valid){const s={username:this.username,old_password:this.password.value,password:this.newPassword.value,confirm_password:this.confirmNewPassword.value};this.isLoading=!0,this.userSettingsService.updatePassword(s).subscribe(s=>{this.isLoading=!1,this.updatePasswordForm.reset(),i()({title:"Successful",text:"Password updated",icon:"success"})},s=>{this.isLoading=!1,this.updatePasswordForm.reset();let r="An unknown Error occurred";if(0===s.status)r="An unknown Error occurred";else if(400===s.status){const e=s.error;r=`${e.message}\n${null==e?void 0:e.details}`}else{const e=s.error;r=(null==e?void 0:e.message)instanceof Array?e.message.join("<br>"):(null==e?void 0:e.message)||r}i()({title:"Error",text:r,icon:"error"})})}}get password(){return this.updatePasswordForm.get("password")}get newPassword(){return this.updatePasswordForm.get("newPassword")}get confirmNewPassword(){return this.updatePasswordForm.get("confirmNewPassword")}ngOnDestroy(){clearInterval(this.timeIntervalId),this.$user&&this.$user.unsubscribe()}}return s.\u0275fac=function(r){return new(r||s)(d.Mb(c.a),d.Mb(b.a))},s.\u0275cmp=d.Gb({type:s,selectors:[["app-update-password"]],decls:63,vars:18,consts:[[1,"page-header",2,"padding","20px 20px"],[1,"container"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"fa","fa-external-link-square"],[1,"panel-body"],[1,"col-sm-9"],[2,"color","gray","font-size","15px"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-6"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],["for","form-field-2",1,"col-sm-2","control-label"],["type","password","placeholder","Password","id","password","formControlName","password","autocomplete","new-password",1,"form-control"],["class","error",4,"ngIf"],["type","password","placeholder","New Password","id","newPassword","autocomplete","new-password","formControlName","newPassword",1,"form-control"],["type","password","placeholder","Confirm New Password","id","confirmNewPassword","formControlName","confirmNewPassword","autocomplete","new-password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"error"],[1,"loadingSpinner"]],template:function(s,r){1&s&&(d.Sb(0,"div",0),d.Sb(1,"h1"),d.Ac(2," Settings "),d.Sb(3,"small"),d.Ac(4,"Update & password "),d.Rb(),d.Rb(),d.Rb(),d.Sb(5,"div",1),d.Sb(6,"div",2),d.Sb(7,"div",3),d.Nb(8,"i",4),d.Ac(9,"Profile "),d.Rb(),d.Sb(10,"div",5),d.Sb(11,"div",6),d.Sb(12,"b",7),d.Ac(13," USERNAME: "),d.Rb(),d.Sb(14,"b",7),d.Ac(15),d.ec(16,"titlecase"),d.Rb(),d.Sb(17,"div",8),d.Sb(18,"b",7),d.Ac(19," DATE: "),d.Rb(),d.Sb(20,"b"),d.Ac(21),d.ec(22,"date"),d.Rb(),d.Rb(),d.Rb(),d.Nb(23,"br"),d.Rb(),d.Rb(),d.Rb(),d.Sb(24,"div",1),d.Sb(25,"div",9),d.Sb(26,"div",10),d.Sb(27,"div",2),d.Sb(28,"div",3),d.Nb(29,"i",4),d.Ac(30,"Password Informatiom "),d.Rb(),d.Sb(31,"div",5),d.Sb(32,"form",11),d.Zb("ngSubmit",(function(){return r.changePassword()})),d.Sb(33,"div",8),d.Sb(34,"label",12),d.Ac(35," Current Password "),d.Rb(),d.Sb(36,"div",6),d.Nb(37,"input",13),d.zc(38,u,2,0,"span",14),d.zc(39,w,2,0,"span",14),d.Rb(),d.Rb(),d.Sb(40,"div",8),d.Sb(41,"label",12),d.Ac(42," New Password "),d.Rb(),d.Sb(43,"div",6),d.Nb(44,"input",15),d.zc(45,l,2,0,"span",14),d.zc(46,p,2,0,"span",14),d.Rb(),d.Rb(),d.Sb(47,"div",8),d.Sb(48,"label",12),d.Ac(49," Confirm Password "),d.Rb(),d.Sb(50,"div",6),d.Nb(51,"input",16),d.zc(52,m,2,0,"span",14),d.zc(53,f,2,0,"span",14),d.zc(54,g,2,0,"span",14),d.Rb(),d.Rb(),d.Nb(55,"br"),d.Nb(56,"br"),d.Sb(57,"div",8),d.Nb(58,"label",12),d.Sb(59,"div",6),d.Sb(60,"button",17),d.zc(61,h,1,0,"div",18),d.zc(62,P,2,0,"span",19),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb(),d.Rb()),2&s&&(d.Bb(15),d.Bc(d.fc(16,13,r.username)),d.Bb(6),d.Bc(d.gc(22,15,r.nowDate,"medium")),d.Bb(11),d.kc("formGroup",r.updatePasswordForm),d.Bb(6),d.kc("ngIf",r.password.touched&&r.password.hasError("required")),d.Bb(1),d.kc("ngIf",r.password.touched&&r.password.hasError("minlength")),d.Bb(6),d.kc("ngIf",r.newPassword.touched&&r.newPassword.hasError("required")),d.Bb(1),d.kc("ngIf",r.newPassword.touched&&r.newPassword.hasError("minlength")),d.Bb(6),d.kc("ngIf",r.confirmNewPassword.touched&&r.confirmNewPassword.hasError("required")),d.Bb(1),d.kc("ngIf",r.confirmNewPassword.touched&&r.confirmNewPassword.hasError("minlength")),d.Bb(1),d.kc("ngIf",r.confirmNewPassword.touched&&r.updatePasswordForm.hasError("passwordNoMatch")),d.Bb(6),d.kc("disabled",r.updatePasswordForm.invalid||r.isLoading),d.Bb(1),d.kc("ngIf",r.isLoading),d.Bb(1),d.kc("ngIf",!r.isLoading))},directives:[o.w,o.m,o.g,o.b,o.l,o.e,n.m],pipes:[n.s,n.f],styles:[".table[_ngcontent-%COMP%]{margin-top:35px}.page-header[_ngcontent-%COMP%]{margin:20px 0}.table_action_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.table_action_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 5px;padding:5px;height:unset;color:#333;font-weight:700;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px}.table_action_btn[_ngcontent-%COMP%]   button.download[_ngcontent-%COMP%]{background-color:#d2d904}.table_action_btn[_ngcontent-%COMP%]   button.view[_ngcontent-%COMP%]{background-color:#4fbfa7}.username-col[_ngcontent-%COMP%]{text-align:right}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333}"]}),s})();var v=e("tyNb");const R=[{path:"",component:S}];let N=(()=>{class s{}return s.\u0275mod=d.Kb({type:s}),s.\u0275inj=d.Jb({factory:function(r){return new(r||s)},imports:[[n.c,v.e.forChild(R),o.r]]}),s})()}}]);