!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"82nU":function(n,o,i){"use strict";i.r(o),i.d(o,"MainModule",(function(){return Z}));var r=i("ofXK"),c=i("tyNb"),a=i("GUC0"),l=i.n(a),s=i("OaSA"),b=i("M9IT"),u=i("LUZP"),p=i("fXoL"),d=i("KwcT"),f=i("k9XE"),g=i("a8X4"),h=i("Z70I"),m=i("DRSI"),S=i("3Pt+"),v=i("kmnG"),R=i("e6WT"),w=i("bTqV"),y=i("Tj54");function C(e,t){1&e&&(p.Sb(0,"th",31),p.Ac(1," S/N "),p.Rb())}function D(e,t){if(1&e&&(p.Sb(0,"td",32),p.Ac(1),p.Rb()),2&e){var n=t.index;p.dc();var o=p.nc(69);p.Bb(1),p.Cc(" ",n+1+o.pageIndex*o.pageSize,"")}}function M(e,t){1&e&&(p.Sb(0,"th",31),p.Ac(1," Report Details "),p.Rb())}function x(e,t){if(1&e&&(p.Sb(0,"td",32),p.Ac(1),p.Rb()),2&e){var n=t.$implicit;p.Bb(1),p.Cc(" ",n.reportDescription," ")}}function k(e,t){1&e&&(p.Sb(0,"th",31),p.Ac(1," Date "),p.Rb())}function O(e,t){if(1&e&&(p.Sb(0,"td",32),p.Ac(1),p.Rb()),2&e){var n=t.$implicit;p.Bb(1),p.Cc(" ",n.dateDescription," ")}}function P(e,t){1&e&&(p.Sb(0,"th",31),p.Ac(1," Action "),p.Rb())}function _(e,t){if(1&e){var n=p.Tb();p.Sb(0,"td",32),p.Sb(1,"button",33),p.Zb("click",(function(){p.pc(n);var e=t.$implicit;return p.dc().deleteReportHistory(e.id)})),p.Sb(2,"mat-icon"),p.Ac(3,"delete"),p.Rb(),p.Rb(),p.Rb()}}function A(e,t){1&e&&p.Nb(0,"tr",34)}function z(e,t){1&e&&p.Nb(0,"tr",35)}function B(e,t){if(1&e&&(p.Sb(0,"tr",36),p.Sb(1,"td",37),p.Ac(2),p.Rb(),p.Rb()),2&e){p.dc();var n=p.nc(50);p.Bb(2),p.Cc('No data matching the filter "',n.value,'"')}}var G,H,I,N=function(){return[5,10,25,100]},V=[{path:"",component:(G=function(){function n(t,o,i,r,c,a){e(this,n),this.authService=t,this.notifierService=o,this.reportService=i,this.reportHistoryService=r,this.router=c,this.xmlViewerService=a,this.selected="options",this.isFilesLoading=!0,this.isError=!1,this.errorMessage="An Error occurred",this.reportList=[],this.displayedColumns=["id","ReportDescription","Date","action"],this.selectedGroup=""}var o,i,r;return o=n,(i=[{key:"ngOnInit",value:function(){var e=this;this.timeIntervalId=setInterval((function(){e.nowDate=new Date}),1e3),this.$user=this.authService.user.subscribe((function(t){e.username=null==t?void 0:t.username})),this.reportService.selectedDate.subscribe((function(t){e.reportSelectedDate=t})),this.getReportHistory(),this.reportService.setReportGroup(this.selectedGroup),console.log("Get Report Group: ",this.reportService.getReportGroup())}},{key:"getReportHistory",value:function(){var e=this;this.reportHistoryService.getReportHistory().subscribe({next:function(t){e.dataSource=new s.l(t)},error:function(t){e.notifierService.showNotification("Unable to Load History","OK","error")}})}},{key:"postReportDate",value:function(e){var t=this;this.reportHistoryService.postReportDate(e).subscribe({next:function(n){t.notifierService.showNotification("Selected "+e,"OK","success")},error:function(e){t.notifierService.showNotification("Unable to select date","OK","error")}})}},{key:"deleteReportHistory",value:function(e){var t=this;this.reportHistoryService.deleteReportHistory(e).subscribe({next:function(e){t.notifierService.showNotification("Deleted Succesfully","OK","success"),t.getReportHistory()},error:function(e){t.notifierService.showNotification("Unable to delete","OK","error")}})}},{key:"changeGroup",value:function(){this.reportService.setReportGroup(this.selectedGroup),console.log("Selected Group: ",this.selectedGroup)}},{key:"fetchDocument",value:function(){var e=this;this.isFilesLoading=!0,this.isError=!1,this.xmlViewerService.getDocuments().subscribe((function(){e.isFilesLoading=!1}),(function(t){e.isFilesLoading=!1,e.isError=!0,l()({title:"Failed to load Report history",icon:"error"})}))}},{key:"selectDate",value:function(e){this.reportSelectedDate=e,this.reportService.setReportDate(e.toString()),this.postReportDate(e),console.log(e)}},{key:"deleteFile",value:function(e,t){this.xmlViewerService.deleteDocument(e).subscribe((function(){}),(function(e){console.log(e),l()({title:"Error",text:t+" failed to delete",icon:"error"})}))}},{key:"saveFile",value:function(e){this.xmlViewerService.saveDocument(e)}},{key:"ngOnDestroy",value:function(){clearInterval(this.timeIntervalId),this.$selectedDate&&this.$selectedDate.unsubscribe(),this.$user&&this.$user.unsubscribe()}},{key:"getDate",value:function(){return this.reportSelectedDate}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}])&&t(o.prototype,i),r&&t(o,r),n}(),G.\u0275fac=function(e){return new(e||G)(p.Mb(d.a),p.Mb(f.a),p.Mb(g.a),p.Mb(h.a),p.Mb(c.b),p.Mb(m.a))},G.\u0275cmp=p.Gb({type:G,selectors:[["app-main"]],viewQuery:function(e,t){var n;1&e&&(p.Dc(b.a,!0),p.Dc(u.a,!0)),2&e&&(p.mc(n=p.ac())&&(t.paginator=n.first),p.mc(n=p.ac())&&(t.sort=n.first))},decls:70,vars:25,consts:[[1,"page-header"],[1,"datelabel"],["id","colordate"],[1,"user"],[1,"input-icon"],[2,"color","var(--primary-color)"],[1,"row"],[1,"input-icon","left"],["aria-label","Default select example",1,"form-select","col-sm-3",3,"disabled","ngModel","ngModelChange","change"],[3,"ngValue"],["selected","",3,"ngValue"],[1,"col-sm-3","date"],["type","date","id","form-field-15",1,"form-control",3,"disabled","ngModel","change"],["datePicker",""],[1,"container"],[1,"filter"],["matInput","","placeholder","Ex. I'm feeling lucky",3,"keyup"],["input",""],[1,"overflow"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ReportDescription"],["matColumnDef","Date"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["myPaginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){if(1&e){var n=p.Tb();p.Nb(0,"br"),p.Sb(1,"div",0),p.Sb(2,"h1"),p.Ac(3," Dashboard "),p.Sb(4,"small"),p.Ac(5,"overview & stat "),p.Rb(),p.Sb(6,"span",1),p.Ac(7,"\xa0 \xa0 \xa0 Report Date: "),p.Sb(8,"span",2),p.Ac(9),p.Rb(),p.Rb(),p.Rb(),p.Sb(10,"div",3),p.Sb(11,"span",4),p.Sb(12,"label",5),p.Ac(13,"Current Date:"),p.Rb(),p.Ac(14),p.ec(15,"date"),p.Rb(),p.Rb(),p.Sb(16,"div",3),p.Sb(17,"span",4),p.Sb(18,"label",5),p.Ac(19,"User:"),p.Rb(),p.Ac(20),p.ec(21,"titlecase"),p.Rb(),p.Rb(),p.Rb(),p.Sb(22,"div",6),p.Sb(23,"span",7),p.Sb(24,"label",5),p.Ac(25,"Report group"),p.Rb(),p.Rb(),p.Sb(26,"select",8),p.Zb("ngModelChange",(function(e){return t.selectedGroup=e}))("change",(function(){return t.changeGroup()})),p.Sb(27,"option",9),p.Ac(28,"-------"),p.Rb(),p.Sb(29,"option",9),p.Ac(30,"Daily"),p.Rb(),p.Sb(31,"option",9),p.Ac(32,"Weekly"),p.Rb(),p.Sb(33,"option",10),p.Ac(34,"Monthly"),p.Rb(),p.Sb(35,"option",9),p.Ac(36,"Quarterly"),p.Rb(),p.Sb(37,"option",9),p.Ac(38,"Yearly"),p.Rb(),p.Rb(),p.Sb(39,"div",11),p.Sb(40,"span",4),p.Sb(41,"label",5),p.Ac(42,"Report date"),p.Rb(),p.Sb(43,"input",12,13),p.Zb("change",(function(){p.pc(n);var e=p.nc(44);return t.selectDate(e.value)})),p.Rb(),p.Rb(),p.Rb(),p.Rb(),p.Sb(45,"div",14),p.Sb(46,"mat-form-field",15),p.Sb(47,"mat-label"),p.Ac(48,"Filter"),p.Rb(),p.Sb(49,"input",16,17),p.Zb("keyup",(function(e){return t.applyFilter(e)})),p.Rb(),p.Rb(),p.Sb(51,"div",18),p.Sb(52,"table",19),p.Qb(53,20),p.zc(54,C,2,0,"th",21),p.zc(55,D,2,1,"td",22),p.Pb(),p.Qb(56,23),p.zc(57,M,2,0,"th",21),p.zc(58,x,2,1,"td",22),p.Pb(),p.Qb(59,24),p.zc(60,k,2,0,"th",21),p.zc(61,O,2,1,"td",22),p.Pb(),p.Qb(62,25),p.zc(63,P,2,0,"th",21),p.zc(64,_,4,0,"td",22),p.Pb(),p.zc(65,A,1,0,"tr",26),p.zc(66,z,1,0,"tr",27),p.zc(67,B,3,1,"tr",28),p.Rb(),p.Rb(),p.Nb(68,"mat-paginator",29,30),p.Rb()}2&e&&(p.Bb(9),p.Cc("",t.reportSelectedDate," "),p.Bb(5),p.Cc(" \xa0 ",p.gc(15,19,t.nowDate,"medium")," "),p.Bb(6),p.Cc(" \xa0",p.fc(21,22,t.username)," "),p.Bb(6),p.kc("disabled",""===t.getDate())("ngModel",t.selectedGroup),p.Bb(1),p.kc("ngValue",""),p.Bb(2),p.kc("ngValue","D"),p.Bb(2),p.kc("ngValue","W"),p.Bb(2),p.kc("ngValue","M"),p.Bb(2),p.kc("ngValue","Q"),p.Bb(2),p.kc("ngValue","Y"),p.Bb(6),p.kc("disabled",""===t.selectedGroup)("ngModel",t.reportSelectedDate),p.Bb(9),p.kc("dataSource",t.dataSource),p.Bb(13),p.kc("matHeaderRowDef",t.displayedColumns),p.Bb(1),p.kc("matRowDefColumns",t.displayedColumns),p.Bb(2),p.kc("length",25)("pageSize",5)("pageSizeOptions",p.lc(24,N)))},directives:[S.t,S.l,S.o,S.p,S.v,S.b,v.b,v.e,R.b,s.k,u.a,s.c,s.e,s.b,s.g,s.j,s.h,b.a,s.d,u.b,s.a,w.a,y.a,s.f,s.i],pipes:[r.f,r.s],styles:["table[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{margin:20px 0;display:flex;justify-content:space-between}.table_action_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.table_action_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 5px;padding:5px;height:unset;color:#333;font-weight:700;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px}.table_action_btn[_ngcontent-%COMP%]   button.download[_ngcontent-%COMP%]{background-color:#4fbfa7}.table_action_btn[_ngcontent-%COMP%]   button.view[_ngcontent-%COMP%]{background-color:tomato}.username-col[_ngcontent-%COMP%]{text-align:right}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333}.datelabel[_ngcontent-%COMP%]{font-size:small}#colordate[_ngcontent-%COMP%]{color:#00f}select[_ngcontent-%COMP%]{height:32px;width:200px;font-size:14px;margin-left:16px}.left[_ngcontent-%COMP%]{margin-left:9px}.date[_ngcontent-%COMP%]{margin-top:-26px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}table[_ngcontent-%COMP%]{width:95%;border:1px solid #ddd}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:0 28px}th[_ngcontent-%COMP%]{border-bottom:1px solid #000}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:15px}.container[_ngcontent-%COMP%]{max-width:3000px;margin-left:-15px;margin-top:10px;z-index:-1}.overflow[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap}.mat-column-id[_ngcontent-%COMP%]{padding:0;width:10px}mat-paginator[_ngcontent-%COMP%]{margin-right:40px}.filter[_ngcontent-%COMP%]{width:95%}.user[_ngcontent-%COMP%]{margin-top:10px;margin-right:20px}"]}),G.\u0275prov=p.Ib({token:G,factory:G.\u0275fac,providedIn:"root"}),G)}],F=((H=function t(){e(this,t)}).\u0275mod=p.Kb({type:H}),H.\u0275inj=p.Jb({factory:function(e){return new(e||H)},imports:[[c.e.forChild(V)],c.e]}),H),K=i("d3UM"),L=i("TN/R"),E=i("FKr1"),T=i("tk/3"),j=i("maxO"),Q=i("Qu3c"),U=i("q7Ft"),$=i("iELJ"),Z=((I=function t(){e(this,t)}).\u0275mod=p.Kb({type:I}),I.\u0275inj=p.Jb({factory:function(e){return new(e||I)},imports:[[F,r.c,j.a,K.b,s.m,b.b,Q.b,U.a,$.f,w.b,y.b,R.c,R.c,L.c,E.j,S.h,S.r,T.d,u.c]]}),I)}}])}();