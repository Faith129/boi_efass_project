(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"82nU":function(e,t,o){"use strict";o.r(t),o.d(t,"MainModule",(function(){return Q}));var n=o("ofXK"),i=o("tyNb"),r=o("GUC0"),c=o.n(r),a=o("OaSA"),s=o("M9IT"),l=o("LUZP"),b=o("fXoL"),d=o("KwcT"),p=o("k9XE"),u=o("a8X4"),h=o("Z70I"),g=o("DRSI"),f=o("3Pt+"),m=o("kmnG"),S=o("e6WT"),R=o("bTqV"),w=o("Tj54");function v(e,t){1&e&&(b.Sb(0,"th",31),b.Ac(1," S/N "),b.Rb())}function C(e,t){if(1&e&&(b.Sb(0,"td",32),b.Ac(1),b.Rb()),2&e){const e=t.index;b.dc();const o=b.nc(69);b.Bb(1),b.Cc(" ",e+1+o.pageIndex*o.pageSize,"")}}function D(e,t){1&e&&(b.Sb(0,"th",31),b.Ac(1," Report Details "),b.Rb())}function M(e,t){if(1&e&&(b.Sb(0,"td",32),b.Ac(1),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.Cc(" ",e.reportDescription," ")}}function y(e,t){1&e&&(b.Sb(0,"th",31),b.Ac(1," Date "),b.Rb())}function x(e,t){if(1&e&&(b.Sb(0,"td",32),b.Ac(1),b.Rb()),2&e){const e=t.$implicit;b.Bb(1),b.Cc(" ",e.dateDescription," ")}}function O(e,t){1&e&&(b.Sb(0,"th",31),b.Ac(1," Action "),b.Rb())}function P(e,t){if(1&e){const e=b.Tb();b.Sb(0,"td",32),b.Sb(1,"button",33),b.Zb("click",(function(){b.pc(e);const o=t.$implicit;return b.dc().deleteReportHistory(o.id)})),b.Sb(2,"mat-icon"),b.Ac(3,"delete"),b.Rb(),b.Rb(),b.Rb()}}function _(e,t){1&e&&b.Nb(0,"tr",34)}function A(e,t){1&e&&b.Nb(0,"tr",35)}function k(e,t){if(1&e&&(b.Sb(0,"tr",36),b.Sb(1,"td",37),b.Ac(2),b.Rb(),b.Rb()),2&e){b.dc();const e=b.nc(50);b.Bb(2),b.Cc('No data matching the filter "',e.value,'"')}}const z=function(){return[5,10,25,100]},B=[{path:"",component:(()=>{class e{constructor(e,t,o,n,i,r){this.authService=e,this.notifierService=t,this.reportService=o,this.reportHistoryService=n,this.router=i,this.xmlViewerService=r,this.selected="options",this.isFilesLoading=!0,this.isError=!1,this.errorMessage="An Error occurred",this.reportList=[],this.displayedColumns=["id","ReportDescription","Date","action"],this.selectedGroup=""}ngOnInit(){this.timeIntervalId=setInterval(()=>{this.nowDate=new Date},1e3),this.$user=this.authService.user.subscribe(e=>{this.username=null==e?void 0:e.username}),this.reportService.selectedDate.subscribe(e=>{this.reportSelectedDate=e}),this.getReportHistory(),this.reportService.setReportGroup(this.selectedGroup),console.log("Get Report Group: ",this.reportService.getReportGroup())}getReportHistory(){this.reportHistoryService.getReportHistory().subscribe({next:e=>{this.dataSource=new a.l(e)},error:e=>{this.notifierService.showNotification("Unable to Load History","OK","error")}})}postReportDate(e){this.reportHistoryService.postReportDate(e).subscribe({next:t=>{this.notifierService.showNotification("Selected "+e,"OK","success")},error:e=>{this.notifierService.showNotification("Unable to select date","OK","error")}})}deleteReportHistory(e){this.reportHistoryService.deleteReportHistory(e).subscribe({next:e=>{this.notifierService.showNotification("Deleted Succesfully","OK","success"),this.getReportHistory()},error:e=>{this.notifierService.showNotification("Unable to delete","OK","error")}})}changeGroup(){this.reportService.setReportGroup(this.selectedGroup),console.log("Selected Group: ",this.selectedGroup)}fetchDocument(){this.isFilesLoading=!0,this.isError=!1,this.xmlViewerService.getDocuments().subscribe(()=>{this.isFilesLoading=!1},e=>{this.isFilesLoading=!1,this.isError=!0,c()({title:"Failed to load Report history",icon:"error"})})}selectDate(e){this.reportSelectedDate=e,this.reportService.setReportDate(e.toString()),this.postReportDate(e),console.log(e)}deleteFile(e,t){this.xmlViewerService.deleteDocument(e).subscribe(()=>{},e=>{console.log(e),c()({title:"Error",text:t+" failed to delete",icon:"error"})})}saveFile(e){this.xmlViewerService.saveDocument(e)}ngOnDestroy(){clearInterval(this.timeIntervalId),this.$selectedDate&&this.$selectedDate.unsubscribe(),this.$user&&this.$user.unsubscribe()}getDate(){return this.reportSelectedDate}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}}return e.\u0275fac=function(t){return new(t||e)(b.Mb(d.a),b.Mb(p.a),b.Mb(u.a),b.Mb(h.a),b.Mb(i.b),b.Mb(g.a))},e.\u0275cmp=b.Gb({type:e,selectors:[["app-main"]],viewQuery:function(e,t){var o;1&e&&(b.Dc(s.a,!0),b.Dc(l.a,!0)),2&e&&(b.mc(o=b.ac())&&(t.paginator=o.first),b.mc(o=b.ac())&&(t.sort=o.first))},decls:70,vars:25,consts:[[1,"page-header"],[1,"datelabel"],["id","colordate"],[1,"user"],[1,"input-icon"],[2,"color","var(--primary-color)"],[1,"row"],[1,"input-icon","left"],["aria-label","Default select example",1,"form-select","col-sm-3",3,"disabled","ngModel","ngModelChange","change"],[3,"ngValue"],["selected","",3,"ngValue"],[1,"col-sm-3","date"],["type","date","id","form-field-15",1,"form-control",3,"disabled","ngModel","change"],["datePicker",""],[1,"container"],[1,"filter"],["matInput","","placeholder","Ex. I'm feeling lucky",3,"keyup"],["input",""],[1,"overflow"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","ReportDescription"],["matColumnDef","Date"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"length","pageSize","pageSizeOptions"],["myPaginator",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){if(1&e){const e=b.Tb();b.Nb(0,"br"),b.Sb(1,"div",0),b.Sb(2,"h1"),b.Ac(3," Dashboard "),b.Sb(4,"small"),b.Ac(5,"overview & stat "),b.Rb(),b.Sb(6,"span",1),b.Ac(7,"\xa0 \xa0 \xa0 Report Date: "),b.Sb(8,"span",2),b.Ac(9),b.Rb(),b.Rb(),b.Rb(),b.Sb(10,"div",3),b.Sb(11,"span",4),b.Sb(12,"label",5),b.Ac(13,"Current Date:"),b.Rb(),b.Ac(14),b.ec(15,"date"),b.Rb(),b.Rb(),b.Sb(16,"div",3),b.Sb(17,"span",4),b.Sb(18,"label",5),b.Ac(19,"User:"),b.Rb(),b.Ac(20),b.ec(21,"titlecase"),b.Rb(),b.Rb(),b.Rb(),b.Sb(22,"div",6),b.Sb(23,"span",7),b.Sb(24,"label",5),b.Ac(25,"Report group"),b.Rb(),b.Rb(),b.Sb(26,"select",8),b.Zb("ngModelChange",(function(e){return t.selectedGroup=e}))("change",(function(){return t.changeGroup()})),b.Sb(27,"option",9),b.Ac(28,"-------"),b.Rb(),b.Sb(29,"option",9),b.Ac(30,"Daily"),b.Rb(),b.Sb(31,"option",9),b.Ac(32,"Weekly"),b.Rb(),b.Sb(33,"option",10),b.Ac(34,"Monthly"),b.Rb(),b.Sb(35,"option",9),b.Ac(36,"Quarterly"),b.Rb(),b.Sb(37,"option",9),b.Ac(38,"Yearly"),b.Rb(),b.Rb(),b.Sb(39,"div",11),b.Sb(40,"span",4),b.Sb(41,"label",5),b.Ac(42,"Report date"),b.Rb(),b.Sb(43,"input",12,13),b.Zb("change",(function(){b.pc(e);const o=b.nc(44);return t.selectDate(o.value)})),b.Rb(),b.Rb(),b.Rb(),b.Rb(),b.Sb(45,"div",14),b.Sb(46,"mat-form-field",15),b.Sb(47,"mat-label"),b.Ac(48,"Filter"),b.Rb(),b.Sb(49,"input",16,17),b.Zb("keyup",(function(e){return t.applyFilter(e)})),b.Rb(),b.Rb(),b.Sb(51,"div",18),b.Sb(52,"table",19),b.Qb(53,20),b.zc(54,v,2,0,"th",21),b.zc(55,C,2,1,"td",22),b.Pb(),b.Qb(56,23),b.zc(57,D,2,0,"th",21),b.zc(58,M,2,1,"td",22),b.Pb(),b.Qb(59,24),b.zc(60,y,2,0,"th",21),b.zc(61,x,2,1,"td",22),b.Pb(),b.Qb(62,25),b.zc(63,O,2,0,"th",21),b.zc(64,P,4,0,"td",22),b.Pb(),b.zc(65,_,1,0,"tr",26),b.zc(66,A,1,0,"tr",27),b.zc(67,k,3,1,"tr",28),b.Rb(),b.Rb(),b.Nb(68,"mat-paginator",29,30),b.Rb()}2&e&&(b.Bb(9),b.Cc("",t.reportSelectedDate," "),b.Bb(5),b.Cc(" \xa0 ",b.gc(15,19,t.nowDate,"medium")," "),b.Bb(6),b.Cc(" \xa0",b.fc(21,22,t.username)," "),b.Bb(6),b.kc("disabled",""===t.getDate())("ngModel",t.selectedGroup),b.Bb(1),b.kc("ngValue",""),b.Bb(2),b.kc("ngValue","D"),b.Bb(2),b.kc("ngValue","W"),b.Bb(2),b.kc("ngValue","M"),b.Bb(2),b.kc("ngValue","Q"),b.Bb(2),b.kc("ngValue","Y"),b.Bb(6),b.kc("disabled",""===t.selectedGroup)("ngModel",t.reportSelectedDate),b.Bb(9),b.kc("dataSource",t.dataSource),b.Bb(13),b.kc("matHeaderRowDef",t.displayedColumns),b.Bb(1),b.kc("matRowDefColumns",t.displayedColumns),b.Bb(2),b.kc("length",25)("pageSize",5)("pageSizeOptions",b.lc(24,z)))},directives:[f.t,f.l,f.o,f.p,f.v,f.b,m.b,m.e,S.b,a.k,l.a,a.c,a.e,a.b,a.g,a.j,a.h,s.a,a.d,l.b,a.a,R.a,w.a,a.f,a.i],pipes:[n.f,n.s],styles:["table[_ngcontent-%COMP%]{width:100%}.page-header[_ngcontent-%COMP%]{margin:20px 0;display:flex;justify-content:space-between}.table_action_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.table_action_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 5px;padding:5px;height:unset;color:#333;font-weight:700;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px}.table_action_btn[_ngcontent-%COMP%]   button.download[_ngcontent-%COMP%]{background-color:#4fbfa7}.table_action_btn[_ngcontent-%COMP%]   button.view[_ngcontent-%COMP%]{background-color:tomato}.username-col[_ngcontent-%COMP%]{text-align:right}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333}.datelabel[_ngcontent-%COMP%]{font-size:small}#colordate[_ngcontent-%COMP%]{color:#00f}select[_ngcontent-%COMP%]{height:32px;width:200px;font-size:14px;margin-left:16px}.left[_ngcontent-%COMP%]{margin-left:9px}.date[_ngcontent-%COMP%]{margin-top:-26px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}table[_ngcontent-%COMP%]{width:95%;border:1px solid #ddd}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:0 28px}th[_ngcontent-%COMP%]{border-bottom:1px solid #000}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f2f2f2}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700;color:#000;font-size:15px}.container[_ngcontent-%COMP%]{max-width:3000px;margin-left:-15px;margin-top:10px;z-index:-1}.overflow[_ngcontent-%COMP%]{overflow-x:auto;white-space:nowrap}.mat-column-id[_ngcontent-%COMP%]{padding:0;width:10px}mat-paginator[_ngcontent-%COMP%]{margin-right:40px}.filter[_ngcontent-%COMP%]{width:95%}.user[_ngcontent-%COMP%]{margin-top:10px;margin-right:20px}"]}),e.\u0275prov=b.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}];let G=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(t){return new(t||e)},imports:[[i.e.forChild(B)],i.e]}),e})();var H=o("d3UM"),I=o("TN/R"),N=o("FKr1"),V=o("tk/3"),F=o("maxO"),K=o("Qu3c"),L=o("q7Ft"),E=o("iELJ");let Q=(()=>{class e{}return e.\u0275mod=b.Kb({type:e}),e.\u0275inj=b.Jb({factory:function(t){return new(t||e)},imports:[[G,n.c,F.a,H.b,a.m,s.b,K.b,L.a,E.f,R.b,w.b,S.c,S.c,I.c,N.j,f.h,f.r,V.d,l.c]]}),e})()}}]);