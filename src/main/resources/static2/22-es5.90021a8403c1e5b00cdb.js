!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{F4UR:function(r,o,t){"use strict";t.r(o),t.d(o,"LoginModule",(function(){return v}));var i=t("3Pt+"),a=t("tyNb"),s=t("fXoL"),c=t("KwcT"),u=t("ofXK");function b(n,e){if(1&n&&(s.Sb(0,"div",12),s.Sb(1,"p"),s.Ac(2),s.Rb(),s.Rb()),2&n){var r=s.dc();s.Bb(2),s.Bc(r.errorMessage)}}function d(n,e){1&n&&s.Nb(0,"div",13)}function g(n,e){1&n&&(s.Sb(0,"span"),s.Ac(1,"Login"),s.Rb())}var l,p,m,f=[{path:"",component:(l=function(){function r(e,o){n(this,r),this.router=e,this.authService=o,this.isLoading=!1,this.isError=!1,this.errorMessage="",this.year=(new Date).getFullYear()}var o,t,a;return o=r,(t=[{key:"ngOnInit",value:function(){this.loginForm=new i.f({username:new i.d(null,[i.u.required]),password:new i.d(null,[i.u.required])})}},{key:"onLogin",value:function(){var n=this;this.loginForm.valid&&(this.isLoading=!0,this.isError=!1,this.authService.login({password:this.password.value,username:this.username.value}).subscribe((function(e){n.isLoading=!1,n.router.navigate(["/","dashboard"])}),(function(e){if(n.isLoading=!1,n.isError=!0,0===e.status)n.errorMessage="An unknown Error occurred";else if(400===e.status){var r=e.error;n.errorMessage="".concat(r.message,"\n").concat(null==r?void 0:r.details)}else{var o=e.error;n.errorMessage=(null==o?void 0:o.message)instanceof Array?o.message.join("<br>"):o.message}})))}},{key:"username",get:function(){return this.loginForm.get("username")}},{key:"password",get:function(){return this.loginForm.get("password")}}])&&e(o.prototype,t),a&&e(o,a),r}(),l.\u0275fac=function(n){return new(n||l)(s.Mb(a.b),s.Mb(c.a))},l.\u0275cmp=s.Gb({type:l,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"login-container"],[1,"form_common","f",3,"formGroup","ngSubmit"],["alt","","src","../../../assets/img/Neptune.png","width","75%"],["class","error",4,"ngIf"],[1,"form-group"],["type","text","autocomplete","username","required","","placeholder","Username","formControlName","username","id","username",1,"form-control","input-lg","input_common"],["type","password","autocomplete","current-password","required","","placeholder","Password","formControlName","password","id","password",1,"form-control","input-lg","input_common"],[1,"text-center"],["type","submit",1,"btn","btn-lg","btn-primary","btn-block","btn_common",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"copyright"],[1,"error"],[1,"loadingSpinner"]],template:function(n,e){1&n&&(s.Sb(0,"body"),s.Sb(1,"div",0),s.Sb(2,"div"),s.Sb(3,"div"),s.Sb(4,"form",1),s.Zb("ngSubmit",(function(){return e.onLogin()})),s.Nb(5,"img",2),s.Nb(6,"br"),s.Nb(7,"br"),s.Nb(8,"br"),s.zc(9,b,3,1,"div",3),s.Sb(10,"div",4),s.Nb(11,"input",5),s.Rb(),s.Nb(12,"br"),s.Sb(13,"div",4),s.Nb(14,"input",6),s.Rb(),s.Nb(15,"br"),s.Sb(16,"div",7),s.Sb(17,"button",8),s.zc(18,d,1,0,"div",9),s.zc(19,g,2,0,"span",10),s.Rb(),s.Rb(),s.Rb(),s.Sb(20,"div",11),s.Ac(21),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&n&&(s.Bb(4),s.kc("formGroup",e.loginForm),s.Bb(5),s.kc("ngIf",e.isError),s.Bb(8),s.kc("disabled",!e.loginForm.valid||e.isLoading),s.Bb(1),s.kc("ngIf",e.isLoading),s.Bb(1),s.kc("ngIf",!e.isLoading),s.Bb(2),s.Cc(" ",e.year," \xa9 Efass by Neptune Software Group. "))},directives:[i.w,i.m,i.g,u.m,i.b,i.s,i.l,i.e],styles:["body[_ngcontent-%COMP%]{background-color:#192a53}.login-container[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:100%;display:flex;justify-content:center;align-items:center;height:100vh}.f[_ngcontent-%COMP%]{padding:30px 40px}.input-lg[_ngcontent-%COMP%]{border-radius:5px}.btn_common[_ngcontent-%COMP%], .input-lg[_ngcontent-%COMP%]{width:100%}#password[_ngcontent-%COMP%], #username[_ngcontent-%COMP%]{-moz-appearance:textfield-multiline;-webkit-appearance:textarea;border:1px solid grey;font:medium -moz-fixed;font:-webkit-small-control;overflow:auto;padding:2px;resize:both;width:100%}.copyright[_ngcontent-%COMP%]{font-size:11px;color:#f1ebdf;margin:0 auto;padding:10px 0;text-align:center}.error[_ngcontent-%COMP%]{background-color:rgba(245,61,61,.2);color:var(--text-color);padding:5px;text-align:center;margin-bottom:15px}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}"]}),l)}],h=((m=function e(){n(this,e)}).\u0275mod=s.Kb({type:m}),m.\u0275inj=s.Jb({factory:function(n){return new(n||m)},imports:[[a.e.forChild(f)],a.e]}),m),v=((p=function e(){n(this,e)}).\u0275mod=s.Kb({type:p}),p.\u0275inj=s.Jb({factory:function(n){return new(n||p)},imports:[[u.c,h,i.h,i.r]]}),p)}}])}();