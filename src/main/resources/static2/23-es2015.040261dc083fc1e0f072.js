(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{WTqH:function(e,n,r){"use strict";r.r(n),r.d(n,"CreateUserModule",(function(){return v}));var t=r("ofXK"),s=r("3Pt+"),o=r("GUC0"),a=r.n(o),i=r("fXoL"),c=r("KwcT"),b=r("vfVh");function u(e,n){1&e&&(i.Sb(0,"span",19),i.Ac(1," Username required"),i.Rb())}function d(e,n){1&e&&(i.Sb(0,"span",19),i.Ac(1," Enter minimum of 4 characters"),i.Rb())}function l(e,n){1&e&&(i.Sb(0,"span",19),i.Ac(1," Password is required"),i.Rb())}function m(e,n){1&e&&(i.Sb(0,"span",19),i.Ac(1," Enter minimum of 6 characters"),i.Rb())}function p(e,n){1&e&&i.Nb(0,"div",20)}function f(e,n){1&e&&(i.Sb(0,"span"),i.Ac(1,"Save"),i.Rb())}let g=(()=>{class e{constructor(e,n){this.authService=e,this.userSettingsService=n,this.isLoading=!1}ngOnInit(){this.createUserForm=new s.f({username:new s.d(null,[s.u.required,s.u.minLength(4)]),password:new s.d(null,[s.u.required,s.u.minLength(6)])}),this.timeIntervalId=setInterval(()=>{this.nowDate=new Date},1e3),this.$user=this.authService.user.subscribe(e=>{this.username=null==e?void 0:e.username})}createUser(){if(this.createUserForm.valid){const e={username:this.usernameInput.value,password:this.password.value,role:"ADMIN_ROLE"};this.isLoading=!0,this.userSettingsService.createUser(e).subscribe(e=>{this.isLoading=!1,this.createUserForm.reset(),a()({title:"Successful",text:"Password updated",icon:"success"})},n=>{this.isLoading=!1,this.createUserForm.reset({username:e.username});let r="An unknown Error occurred";if(0===n.status)r="An unknown Error occurred";else if(400===n.status){const e=n.error;r=`${e.message}\n${null==e?void 0:e.details}`}else{const e=n.error;r=(null==e?void 0:e.message)instanceof Array?e.message.join("<br>"):(null==e?void 0:e.message)||r}a()({title:"Error",text:r,icon:"error"})})}}get usernameInput(){return this.createUserForm.get("username")}get password(){return this.createUserForm.get("password")}ngOnDestroy(){clearInterval(this.timeIntervalId),this.$user&&this.$user.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(i.Mb(c.a),i.Mb(b.a))},e.\u0275cmp=i.Gb({type:e,selectors:[["app-create-user"]],decls:55,vars:15,consts:[[1,"page-header",2,"padding","20px 20px"],[1,"container"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"fa","fa-external-link-square"],[1,"panel-body"],[1,"col-sm-9"],[2,"color","gray","font-size","15px"],[1,"form-group"],[1,"row"],[1,"col-12","col-sm-6"],["role","form",1,"form-horizontal",3,"formGroup","ngSubmit"],["for","form-field-2",1,"col-sm-2","control-label"],["type","text","placeholder","Username","id","form-field-2","formControlName","username",1,"form-control"],["class","error",4,"ngIf"],["type","password","placeholder","Password","id","form-field-2","formControlName","password","autocomplete","new-password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block",3,"disabled"],["class","loadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"error"],[1,"loadingSpinner"]],template:function(e,n){1&e&&(i.Sb(0,"div",0),i.Sb(1,"h1"),i.Ac(2," Settings "),i.Sb(3,"small"),i.Ac(4,"Create & user "),i.Rb(),i.Rb(),i.Rb(),i.Sb(5,"div",1),i.Sb(6,"div",2),i.Sb(7,"div",3),i.Nb(8,"i",4),i.Ac(9,"Profile "),i.Rb(),i.Sb(10,"div",5),i.Sb(11,"div",6),i.Sb(12,"b",7),i.Ac(13," USERNAME: "),i.Rb(),i.Sb(14,"b",7),i.Ac(15),i.ec(16,"titlecase"),i.Rb(),i.Sb(17,"div",8),i.Sb(18,"b",7),i.Ac(19," DATE: "),i.Rb(),i.Sb(20,"b"),i.Ac(21),i.ec(22,"date"),i.Rb(),i.Rb(),i.Rb(),i.Nb(23,"br"),i.Rb(),i.Rb(),i.Rb(),i.Sb(24,"div",1),i.Sb(25,"div",9),i.Sb(26,"div",10),i.Sb(27,"div",2),i.Sb(28,"div",3),i.Nb(29,"i",4),i.Ac(30,"Password Informatiom "),i.Rb(),i.Sb(31,"div",5),i.Sb(32,"form",11),i.Zb("ngSubmit",(function(){return n.createUser()})),i.Sb(33,"div",8),i.Sb(34,"label",12),i.Ac(35," Username "),i.Rb(),i.Sb(36,"div",6),i.Nb(37,"input",13),i.zc(38,u,2,0,"span",14),i.zc(39,d,2,0,"span",14),i.Rb(),i.Rb(),i.Sb(40,"div",8),i.Sb(41,"label",12),i.Ac(42," Password "),i.Rb(),i.Sb(43,"div",6),i.Nb(44,"input",15),i.zc(45,l,2,0,"span",14),i.zc(46,m,2,0,"span",14),i.Rb(),i.Rb(),i.Nb(47,"br"),i.Nb(48,"br"),i.Sb(49,"div",8),i.Nb(50,"label",12),i.Sb(51,"div",6),i.Sb(52,"button",16),i.zc(53,p,1,0,"div",17),i.zc(54,f,2,0,"span",18),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(15),i.Bc(i.fc(16,10,n.username)),i.Bb(6),i.Bc(i.gc(22,12,n.nowDate,"medium")),i.Bb(11),i.kc("formGroup",n.createUserForm),i.Bb(6),i.kc("ngIf",n.usernameInput.touched&&n.usernameInput.hasError("required")),i.Bb(1),i.kc("ngIf",n.usernameInput.touched&&n.usernameInput.hasError("minlength")),i.Bb(6),i.kc("ngIf",n.password.touched&&n.password.hasError("required")),i.Bb(1),i.kc("ngIf",n.password.touched&&n.password.hasError("minlength")),i.Bb(6),i.kc("disabled",n.isLoading||n.createUserForm.invalid),i.Bb(1),i.kc("ngIf",n.isLoading),i.Bb(1),i.kc("ngIf",!n.isLoading))},directives:[s.w,s.m,s.g,s.b,s.l,s.e,t.m],pipes:[t.s,t.f],styles:[".table[_ngcontent-%COMP%]{margin-top:35px}.page-header[_ngcontent-%COMP%]{margin:20px 0}.table_action_btn[_ngcontent-%COMP%]{display:flex;align-items:center}.table_action_btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;margin:0 5px;padding:5px;height:unset;color:#333;font-weight:700;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px}.table_action_btn[_ngcontent-%COMP%]   button.download[_ngcontent-%COMP%]{background-color:#d2d904}.table_action_btn[_ngcontent-%COMP%]   button.view[_ngcontent-%COMP%]{background-color:#4fbfa7}.username-col[_ngcontent-%COMP%]{text-align:right}.username[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#333}"]}),e})();var h=r("tyNb");const S=[{path:"",component:g}];let v=(()=>{class e{}return e.\u0275mod=i.Kb({type:e}),e.\u0275inj=i.Jb({factory:function(n){return new(n||e)},imports:[[t.c,h.e.forChild(S),s.r]]}),e})()}}]);